import{d as O,r as ue,c as _e,g as he}from"./vendor.b2c2aeb6.js";var b,fe,be={},U={},I={};b=I,Object.defineProperty(b,"__esModule",{value:!0}),b.isEventSourceSupported=b.isReactNative=b.ReadyState=b.DEFAULT_HEARTBEAT=b.UNPARSABLE_JSON_OBJECT=b.DEFAULT_RECONNECT_INTERVAL_MS=b.DEFAULT_RECONNECT_LIMIT=b.SOCKET_IO_PING_CODE=b.SOCKET_IO_PATH=b.SOCKET_IO_PING_INTERVAL=b.DEFAULT_EVENT_SOURCE_OPTIONS=b.EMPTY_EVENT_HANDLERS=b.DEFAULT_OPTIONS=void 0,b.DEFAULT_OPTIONS={},b.EMPTY_EVENT_HANDLERS={},b.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:b.EMPTY_EVENT_HANDLERS},b.SOCKET_IO_PING_INTERVAL=25e3,b.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",b.SOCKET_IO_PING_CODE="2",b.DEFAULT_RECONNECT_LIMIT=20,b.DEFAULT_RECONNECT_INTERVAL_MS=5e3,b.UNPARSABLE_JSON_OBJECT={},b.DEFAULT_HEARTBEAT={message:"ping",timeout:6e4,interval:25e3},function(e){e[e.UNINSTANTIATED=-1]="UNINSTANTIATED",e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(fe||(b.ReadyState=fe={})),b.isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",b.isEventSourceSupported=!b.isReactNative&&function(){try{return"EventSource"in globalThis}catch{return!1}}();var x={},Z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetWebSockets=e.sharedWebSockets=void 0,e.sharedWebSockets={},e.resetWebSockets=function(n){if(n&&e.sharedWebSockets.hasOwnProperty(n))delete e.sharedWebSockets[n];else for(var c in e.sharedWebSockets)e.sharedWebSockets.hasOwnProperty(c)&&delete e.sharedWebSockets[c]}})(Z);var B={},m={};Object.defineProperty(m,"__esModule",{value:!0}),m.setUpSocketIOPing=m.appendQueryParams=m.parseSocketIOUrl=void 0;var V=I;m.parseSocketIOUrl=function(e){if(e){var n=/^https|wss/.test(e),c=e.replace(/^(https?|wss?)(:\/\/)?/,"").replace(/\/$/,"");return"".concat(o=n?"wss":"ws","://").concat(c).concat(V.SOCKET_IO_PATH)}if(e===""){var o=(n=/^https/.test(window.location.protocol))?"wss":"ws",t=window.location.port?":".concat(window.location.port):"";return"".concat(o,"://").concat(window.location.hostname).concat(t).concat(V.SOCKET_IO_PATH)}return e},m.appendQueryParams=function(e,n){n===void 0&&(n={});var c=/\?([\w]+=[\w]+)/.test(e),o="".concat(Object.entries(n).reduce(function(t,l){var p=l[0],d=l[1];return t+"".concat(p,"=").concat(d,"&")},"").slice(0,-1));return"".concat(e).concat(c?"&":"?").concat(o)},m.setUpSocketIOPing=function(e,n){return n===void 0&&(n=V.SOCKET_IO_PING_INTERVAL),window.setInterval(function(){return e(V.SOCKET_IO_PING_CODE)},n)};var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.heartbeat=function(e,n,c){var o=c||{},t=o.interval,l=t===void 0?re.DEFAULT_HEARTBEAT.interval:t,p=o.timeout,d=p===void 0?re.DEFAULT_HEARTBEAT.timeout:p,a=o.message,u=a===void 0?re.DEFAULT_HEARTBEAT.message:a,r=setInterval(function(){if(n.current+d<=Date.now())e.close();else if(n.current+l<=Date.now())try{typeof u=="function"?e.send(u()):e.send(u)}catch{e.close()}},l);return e.addEventListener("close",function(){clearInterval(r)}),function(){}};var re=I,D={},ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetSubscribers=e.removeSubscriber=e.addSubscriber=e.hasSubscribers=e.getSubscribers=void 0;var n={},c=[];e.getSubscribers=function(o){return(0,e.hasSubscribers)(o)?Array.from(n[o]):c},e.hasSubscribers=function(o){var t;return((t=n[o])===null||t===void 0?void 0:t.size)>0},e.addSubscriber=function(o,t){n[o]=n[o]||new Set,n[o].add(t)},e.removeSubscriber=function(o,t){n[o].delete(t)},e.resetSubscribers=function(o){if(o&&n.hasOwnProperty(o))delete n[o];else for(var t in n)n.hasOwnProperty(t)&&delete n[t]}})(ee),Object.defineProperty(D,"__esModule",{value:!0}),D.assertIsWebSocket=function(e,n){if(!n&&e instanceof WebSocket==0)throw new Error("")},D.resetGlobalState=function(e){(0,Re.resetSubscribers)(e),(0,Te.resetWebSockets)(e)};var Te=Z,Re=ee,K=O&&O.__assign||function(){return K=Object.assign||function(e){for(var n,c=1,o=arguments.length;c<o;c++)for(var t in n=arguments[c])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},K.apply(this,arguments)};Object.defineProperty(B,"__esModule",{value:!0}),B.attachListeners=void 0;var ge=m,Ne=H,w=I,Ie=D;B.attachListeners=function(e,n,c,o,t,l,p){var d,a,u,r=n.setLastMessage,s=n.setReadyState;return c.current.fromSocketIO&&(d=(0,ge.setUpSocketIOPing)(p)),function(v,f,y,E){v.onmessage=function(i){var S;f.current.onMessage&&f.current.onMessage(i),typeof(E==null?void 0:E.current)=="number"&&(E.current=Date.now()),typeof f.current.filter=="function"&&f.current.filter(i)!==!0||f.current.heartbeat&&typeof f.current.heartbeat!="boolean"&&((S=f.current.heartbeat)===null||S===void 0?void 0:S.returnMessage)===i.data||y(i)}}(e,c,r,l),function(v,f,y,E,i){v.onopen=function(S){if(f.current.onOpen&&f.current.onOpen(S),E.current=0,y(w.ReadyState.OPEN),f.current.heartbeat&&v instanceof WebSocket){var T=typeof f.current.heartbeat=="boolean"?void 0:f.current.heartbeat;i.current=Date.now(),(0,Ne.heartbeat)(v,i,T)}}}(e,c,s,t,l),a=function(v,f,y,E,i){return w.isEventSourceSupported&&v instanceof EventSource?function(){}:((0,Ie.assertIsWebSocket)(v,f.current.skipAssert),v.onclose=function(T){var R;if(f.current.onClose&&f.current.onClose(T),y(w.ReadyState.CLOSED),f.current.shouldReconnect&&f.current.shouldReconnect(T)){var _=(R=f.current.reconnectAttempts)!==null&&R!==void 0?R:w.DEFAULT_RECONNECT_LIMIT;if(i.current<_){var P=typeof f.current.reconnectInterval=="function"?f.current.reconnectInterval(i.current):f.current.reconnectInterval;S=window.setTimeout(function(){i.current++,E()},P??w.DEFAULT_RECONNECT_INTERVAL_MS)}else f.current.onReconnectStop&&f.current.onReconnectStop(_)}},function(){return S&&window.clearTimeout(S)});var S}(e,c,s,o,t),u=function(v,f,y,E,i){var S;return v.onerror=function(T){var R;if(f.current.onError&&f.current.onError(T),w.isEventSourceSupported&&v instanceof EventSource&&(f.current.onClose&&f.current.onClose(K(K({},T),{code:1006,reason:"An error occurred with the EventSource: ".concat(T),wasClean:!1})),y(w.ReadyState.CLOSED),v.close()),f.current.retryOnError)if(i.current<((R=f.current.reconnectAttempts)!==null&&R!==void 0?R:w.DEFAULT_RECONNECT_LIMIT)){var _=typeof f.current.reconnectInterval=="function"?f.current.reconnectInterval(i.current):f.current.reconnectInterval;S=window.setTimeout(function(){i.current++,E()},_??w.DEFAULT_RECONNECT_INTERVAL_MS)}else f.current.onReconnectStop&&f.current.onReconnectStop(f.current.reconnectAttempts)},function(){return S&&window.clearTimeout(S)}}(e,c,s,o,t),function(){s(w.ReadyState.CLOSING),a(),u(),e.close(),d&&clearInterval(d)}};var q={},Y=O&&O.__assign||function(){return Y=Object.assign||function(e){for(var n,c=1,o=arguments.length;c<o;c++)for(var t in n=arguments[c])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},Y.apply(this,arguments)};Object.defineProperty(q,"__esModule",{value:!0}),q.attachSharedListeners=void 0;var we=Z,L=I,F=ee,Ce=m,me=H;q.attachSharedListeners=function(e,n,c,o){var t;return c.current.fromSocketIO&&(t=(0,Ce.setUpSocketIOPing)(o)),function(l,p,d){l.onmessage=function(a){(0,F.getSubscribers)(p).forEach(function(u){var r;u.optionsRef.current.onMessage&&u.optionsRef.current.onMessage(a),typeof((r=u==null?void 0:u.lastMessageTime)===null||r===void 0?void 0:r.current)=="number"&&(u.lastMessageTime.current=Date.now()),typeof u.optionsRef.current.filter=="function"&&u.optionsRef.current.filter(a)!==!0||d&&typeof d!="boolean"&&(d==null?void 0:d.returnMessage)===a.data||u.setLastMessage(a)})}}(e,n,c.current.heartbeat),function(l,p){l instanceof WebSocket&&(l.onclose=function(d){(0,F.getSubscribers)(p).forEach(function(a){a.optionsRef.current.onClose&&a.optionsRef.current.onClose(d),a.setReadyState(L.ReadyState.CLOSED)}),delete we.sharedWebSockets[p],(0,F.getSubscribers)(p).forEach(function(a){var u;if(a.optionsRef.current.shouldReconnect&&a.optionsRef.current.shouldReconnect(d)){var r=(u=a.optionsRef.current.reconnectAttempts)!==null&&u!==void 0?u:L.DEFAULT_RECONNECT_LIMIT;if(a.reconnectCount.current<r){var s=typeof a.optionsRef.current.reconnectInterval=="function"?a.optionsRef.current.reconnectInterval(a.reconnectCount.current):a.optionsRef.current.reconnectInterval;setTimeout(function(){a.reconnectCount.current++,a.reconnect.current()},s??L.DEFAULT_RECONNECT_INTERVAL_MS)}else a.optionsRef.current.onReconnectStop&&a.optionsRef.current.onReconnectStop(a.optionsRef.current.reconnectAttempts)}})})}(e,n),function(l,p,d){l.onopen=function(a){(0,F.getSubscribers)(p).forEach(function(u){u.reconnectCount.current=0,u.optionsRef.current.onOpen&&u.optionsRef.current.onOpen(a),u.setReadyState(L.ReadyState.OPEN),d&&l instanceof WebSocket&&(u.lastMessageTime.current=Date.now(),(0,me.heartbeat)(l,u.lastMessageTime,typeof d=="boolean"?void 0:d))})}}(e,n,c.current.heartbeat),function(l,p){l.onerror=function(d){(0,F.getSubscribers)(p).forEach(function(a){a.optionsRef.current.onError&&a.optionsRef.current.onError(d),L.isEventSourceSupported&&l instanceof EventSource&&(a.optionsRef.current.onClose&&a.optionsRef.current.onClose(Y(Y({},d),{code:1006,reason:"An error occurred with the EventSource: ".concat(d),wasClean:!1})),a.setReadyState(L.ReadyState.CLOSED))}),L.isEventSourceSupported&&l instanceof EventSource&&l.close()}}(e,n),function(){t&&clearInterval(t)}},Object.defineProperty(x,"__esModule",{value:!0}),x.createOrJoinSocket=void 0;var A=Z,G=I,Ae=B,ke=q,ne=ee;x.createOrJoinSocket=function(e,n,c,o,t,l,p,d,a){if(!G.isEventSourceSupported&&o.current.eventSourceOptions)throw G.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(o.current.share){var u=null;A.sharedWebSockets[n]===void 0?(A.sharedWebSockets[n]=o.current.eventSourceOptions?new EventSource(n,o.current.eventSourceOptions):new WebSocket(n,o.current.protocols),e.current=A.sharedWebSockets[n],c(G.ReadyState.CONNECTING),u=(0,ke.attachSharedListeners)(A.sharedWebSockets[n],n,o,a)):(e.current=A.sharedWebSockets[n],c(A.sharedWebSockets[n].readyState));var r={setLastMessage:t,setReadyState:c,optionsRef:o,reconnectCount:p,lastMessageTime:d,reconnect:l};return(0,ne.addSubscriber)(n,r),function(s,v,f,y,E){return function(){if((0,ne.removeSubscriber)(s,v),!(0,ne.hasSubscribers)(s)){try{var i=A.sharedWebSockets[s];i instanceof WebSocket&&(i.onclose=function(S){f.current.onClose&&f.current.onClose(S),y(G.ReadyState.CLOSED)}),i.close()}catch{}E&&E(),delete A.sharedWebSockets[s]}}}(n,r,o,c,u)}if(e.current=o.current.eventSourceOptions?new EventSource(n,o.current.eventSourceOptions):new WebSocket(n,o.current.protocols),c(G.ReadyState.CONNECTING),!e.current)throw new Error("WebSocket failed to be created");return(0,Ae.attachListeners)(e.current,{setLastMessage:t,setReadyState:c},o,l.current,p,d,a)};var Ee={};(function(e){var n=O&&O.__awaiter||function(p,d,a,u){return new(a||(a=Promise))(function(r,s){function v(E){try{y(u.next(E))}catch(i){s(i)}}function f(E){try{y(u.throw(E))}catch(i){s(i)}}function y(E){var i;E.done?r(E.value):(i=E.value,i instanceof a?i:new a(function(S){S(i)})).then(v,f)}y((u=u.apply(p,d||[])).next())})},c=O&&O.__generator||function(p,d){var a,u,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},v=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return v.next=f(0),v.throw=f(1),v.return=f(2),typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function f(y){return function(E){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;v&&(v=0,i[0]&&(s=0)),s;)try{if(a=1,u&&(r=2&i[0]?u.return:i[0]?u.throw||((r=u.return)&&r.call(u),0):u.next)&&!(r=r.call(u,i[1])).done)return r;switch(u=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,u=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||i[0]!==6&&i[0]!==2)){s=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(i[0]===6&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=d.call(p,s)}catch(S){i=[6,S],u=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([y,E])}}},o=O&&O.__spreadArray||function(p,d,a){if(a||arguments.length===2)for(var u,r=0,s=d.length;r<s;r++)!u&&r in d||(u||(u=Array.prototype.slice.call(d,0,r)),u[r]=d[r]);return p.concat(u||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.getUrl=void 0;var t=m,l=I;e.getUrl=function(p,d){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];return n(void 0,o([p,d],a,!0),void 0,function(r,s,v){var f,y,E,i,S,T,R;return v===void 0&&(v=0),c(this,function(_){switch(_.label){case 0:if(typeof r!="function")return[3,10];_.label=1;case 1:return _.trys.push([1,3,,9]),[4,r()];case 2:return f=_.sent(),[3,9];case 3:return _.sent(),s.current.retryOnError?(y=(S=s.current.reconnectAttempts)!==null&&S!==void 0?S:l.DEFAULT_RECONNECT_LIMIT,v<y?(E=typeof s.current.reconnectInterval=="function"?s.current.reconnectInterval(v):s.current.reconnectInterval,[4,(P=E??l.DEFAULT_RECONNECT_INTERVAL_MS,new Promise(function(te){return window.setTimeout(te,P)}))]):[3,5]):[3,7];case 4:return _.sent(),[2,(0,e.getUrl)(r,s,v+1)];case 5:return(R=(T=s.current).onReconnectStop)===null||R===void 0||R.call(T,v),[2,null];case 6:return[3,8];case 7:return[2,null];case 8:return[3,9];case 9:return[3,11];case 10:f=r,_.label=11;case 11:return i=s.current.fromSocketIO?(0,t.parseSocketIOUrl)(f):f,[2,s.current.queryParams?(0,t.appendQueryParams)(i,s.current.queryParams):i]}var P})})}})(Ee);var Oe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.websocketWrapper=void 0,e.websocketWrapper=function(n,c){return new Proxy(n,{get:function(o,t){var l=o[t];return t==="reconnect"?c:typeof l=="function"?function(){}:l},set:function(o,t,l){return!/^on/.test(t)&&(o[t]=l,!0)}})},e.default=e.websocketWrapper})(Oe);var k=O&&O.__assign||function(){return k=Object.assign||function(e){for(var n,c=1,o=arguments.length;c<o;c++)for(var t in n=arguments[c])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},k.apply(this,arguments)},Pe=O&&O.__awaiter||function(e,n,c,o){return new(c||(c=Promise))(function(t,l){function p(u){try{a(o.next(u))}catch(r){l(r)}}function d(u){try{a(o.throw(u))}catch(r){l(r)}}function a(u){var r;u.done?t(u.value):(r=u.value,r instanceof c?r:new c(function(s){s(r)})).then(p,d)}a((o=o.apply(e,n||[])).next())})},Le=O&&O.__generator||function(e,n){var c,o,t,l={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=d(0),p.throw=d(1),p.return=d(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function d(a){return function(u){return function(r){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,r[0]&&(l=0)),l;)try{if(c=1,o&&(t=2&r[0]?o.return:r[0]?o.throw||((t=o.return)&&t.call(o),0):o.next)&&!(t=t.call(o,r[1])).done)return t;switch(o=0,t&&(r=[2&r[0],t.value]),r[0]){case 0:case 1:t=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,o=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((t=(t=l.trys).length>0&&t[t.length-1])||r[0]!==6&&r[0]!==2)){l=0;continue}if(r[0]===3&&(!t||r[1]>t[0]&&r[1]<t[3])){l.label=r[1];break}if(r[0]===6&&l.label<t[1]){l.label=t[1],t=r;break}if(t&&l.label<t[2]){l.label=t[2],l.ops.push(r);break}t[2]&&l.ops.pop(),l.trys.pop();continue}r=n.call(e,l)}catch(s){r=[6,s],o=0}finally{c=t=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([a,u])}}},Me=O&&O.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0}),U.useWebSocket=void 0;var h=ue,oe=_e,C=I,De=x,Ue=Ee,We=Me(Oe),de=D;U.useWebSocket=function(e,n,c){n===void 0&&(n=C.DEFAULT_OPTIONS),c===void 0&&(c=!0);var o=(0,h.useState)(null),t=o[0],l=o[1],p=(0,h.useState)({}),d=p[0],a=p[1],u=(0,h.useMemo)(function(){if(t)try{return JSON.parse(t.data)}catch{return C.UNPARSABLE_JSON_OBJECT}return null},[t]),r=(0,h.useRef)(null),s=(0,h.useRef)(null),v=(0,h.useRef)(function(){}),f=(0,h.useRef)(0),y=(0,h.useRef)(Date.now()),E=(0,h.useRef)([]),i=(0,h.useRef)(null),S=(0,h.useRef)(n);S.current=n;var T=r.current&&d[r.current]!==void 0?d[r.current]:e!==null&&c===!0?C.ReadyState.CONNECTING:C.ReadyState.UNINSTANTIATED,R=n.queryParams?JSON.stringify(n.queryParams):null,_=(0,h.useCallback)(function(g,N){var M;N===void 0&&(N=!0),C.isEventSourceSupported&&s.current instanceof EventSource||(((M=s.current)===null||M===void 0?void 0:M.readyState)===C.ReadyState.OPEN?((0,de.assertIsWebSocket)(s.current,S.current.skipAssert),s.current.send(g)):N&&E.current.push(g))},[]),P=(0,h.useCallback)(function(g,N){N===void 0&&(N=!0),_(JSON.stringify(g),N)},[_]),te=(0,h.useCallback)(function(){return S.current.share!==!0||C.isEventSourceSupported&&s.current instanceof EventSource?s.current:(i.current===null&&s.current&&((0,de.assertIsWebSocket)(s.current,S.current.skipAssert),i.current=(0,We.default)(s.current,v)),i.current)},[]);return(0,h.useEffect)(function(){if(e!==null&&c===!0){var g,N=!1,M=!0,ae=function(){return Pe(void 0,void 0,void 0,function(){var J,W,se;return Le(this,function(ie){switch(ie.label){case 0:return J=r,[4,(0,Ue.getUrl)(e,S)];case 1:return J.current=ie.sent(),r.current===null?(r.current="ABORTED",(0,oe.flushSync)(function(){return a(function(j){return k(k({},j),{ABORTED:C.ReadyState.CLOSED})})}),[2]):(W=function(j){N||(0,oe.flushSync)(function(){return l(j)})},se=function(j){N||(0,oe.flushSync)(function(){return a(function(ye){var le;return k(k({},ye),r.current&&((le={})[r.current]=j,le))})})},M&&(g=(0,De.createOrJoinSocket)(s,r.current,se,S,W,v,f,y,_)),[2])}})})};return v.current=function(){N||(i.current&&(i.current=null),g==null||g(),ae())},ae(),function(){N=!0,M=!1,i.current&&(i.current=null),g==null||g(),l(null)}}e!==null&&c!==!1||(f.current=0,a(function(J){var W;return k(k({},J),r.current&&((W={})[r.current]=C.ReadyState.CLOSED,W))}))},[e,c,R,_]),(0,h.useEffect)(function(){T===C.ReadyState.OPEN&&E.current.splice(0).forEach(function(g){_(g)})},[T]),{sendMessage:_,sendJsonMessage:P,lastMessage:t,lastJsonMessage:u,readyState:T,getWebSocket:te}};var Q={},z=O&&O.__assign||function(){return z=Object.assign||function(e){for(var n,c=1,o=arguments.length;c<o;c++)for(var t in n=arguments[c])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},z.apply(this,arguments)};Object.defineProperty(Q,"__esModule",{value:!0}),Q.useSocketIO=void 0;var pe=ue,je=U,Fe=I,ce={type:"empty",payload:null};Q.useSocketIO=function(e,n,c){n===void 0&&(n=Fe.DEFAULT_OPTIONS),c===void 0&&(c=!0);var o=(0,pe.useMemo)(function(){return z(z({},n),{fromSocketIO:!0})},[]),t=(0,je.useWebSocket)(e,o,c),l=t.sendMessage,p=t.sendJsonMessage,d=t.lastMessage,a=t.readyState,u=t.getWebSocket,r=(0,pe.useMemo)(function(){return function(s){if(!s||!s.data)return ce;var v=s.data.match(/\[.*]/);if(!v)return ce;var f=JSON.parse(v);return Array.isArray(f)&&f[1]?{type:f[0],payload:f[1]}:ce}(d)},[d]);return{sendMessage:l,sendJsonMessage:p,lastMessage:r,lastJsonMessage:r,readyState:a,getWebSocket:u}};var $={},X=O&&O.__assign||function(){return X=Object.assign||function(e){for(var n,c=1,o=arguments.length;c<o;c++)for(var t in n=arguments[c])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},X.apply(this,arguments)},Ge=O&&O.__rest||function(e,n){var c={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(c[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(o=Object.getOwnPropertySymbols(e);t<o.length;t++)n.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(c[o[t]]=e[o[t]])}return c};Object.defineProperty($,"__esModule",{value:!0}),$.useEventSource=void 0;var ve=ue,Je=U,Se=I;$.useEventSource=function(e,n,c){n===void 0&&(n=Se.DEFAULT_EVENT_SOURCE_OPTIONS);var o=n.withCredentials,t=n.events,l=Ge(n,["withCredentials","events"]);c===void 0&&(c=!0);var p=X(X({},l),{eventSourceOptions:{withCredentials:o}}),d=(0,ve.useRef)(Se.EMPTY_EVENT_HANDLERS);t&&(d.current=t);var a=(0,Je.useWebSocket)(e,p,c),u=a.lastMessage,r=a.readyState,s=a.getWebSocket;return(0,ve.useEffect)(function(){u!=null&&u.type&&Object.entries(d.current).forEach(function(v){var f=v[0],y=v[1];f===u.type&&y(u)})},[u]),{lastEvent:u,readyState:r,getEventSource:s}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetGlobalState=e.useEventSource=e.ReadyState=e.useSocketIO=e.default=void 0;var n=U;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.useWebSocket}});var c=Q;Object.defineProperty(e,"useSocketIO",{enumerable:!0,get:function(){return c.useSocketIO}});var o=I;Object.defineProperty(e,"ReadyState",{enumerable:!0,get:function(){return o.ReadyState}});var t=$;Object.defineProperty(e,"useEventSource",{enumerable:!0,get:function(){return t.useEventSource}});var l=D;Object.defineProperty(e,"resetGlobalState",{enumerable:!0,get:function(){return l.resetGlobalState}})}(be);const xe=he(be);export{xe as u};
