import{R}from"./vendor.b2c2aeb6.js";var ye=e=>e.type==="checkbox",te=e=>e instanceof Date,C=e=>e==null;const Ye=e=>typeof e=="object";var x=e=>!C(e)&&!Array.isArray(e)&&Ye(e)&&!te(e),Ne=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u";function H(e){let n;const a=Array.isArray(e),t=typeof FileList<"u"&&e instanceof FileList;if(e instanceof Date)n=new Date(e);else if(e instanceof Set)n=new Set(e);else{if(Ne&&(e instanceof Blob||t)||!a&&!x(e))return e;if(n=a?[]:{},a||(o=>{const d=o.constructor&&o.constructor.prototype;return x(d)&&d.hasOwnProperty("isPrototypeOf")})(e))for(const o in e)e.hasOwnProperty(o)&&(n[o]=H(e[o]));else n=e}return n}var Ae=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,m=(e,n,a)=>{if(!n||!x(e))return a;const t=Ae(n.split(/[,[\].]+?/)).reduce((o,d)=>C(o)?o:o[d],e);return k(t)||t===e?k(e[n])?a:e[n]:t},z=e=>typeof e=="boolean",Te=e=>/^\w*$/.test(e),Ze=e=>Ae(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,n,a)=>{let t=-1;const o=Te(n)?[n]:Ze(n),d=o.length,l=d-1;for(;++t<d;){const h=o[t];let g=a;if(t!==l){const N=e[h];g=x(N)||Array.isArray(N)?N:isNaN(+o[t+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}return e};const er="onChange",rr="onSubmit",me="all",Ie="pattern",Re="required";R.createContext(null);var U=e=>x(e)&&!Object.keys(e).length,_e=e=>Array.isArray(e)?e:[e],G=e=>typeof e=="string",dr=(e,n,a,t,o)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[t]:o||!0}}:{},He=e=>({isOnSubmit:!e||e===rr,isOnBlur:e==="onBlur",isOnChange:e===er,isOnAll:e===me,isOnTouch:e==="onTouched"}),$e=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ve=(e,n,a,t)=>{for(const o of a||Object.keys(e)){const d=m(e,o);if(d){const{_f:l,...h}=d;if(l){if(l.refs&&l.refs[0]&&n(l.refs[0],o)&&!t||l.ref&&n(l.ref,l.name)&&!t)return!0;if(ve(h,n))break}else if(x(h)&&ve(h,n))break}}};var fr=(e,n,a)=>{const t=_e(m(e,a));return F(t,"root",n[a]),F(e,a,t),e},Ce=e=>e.type==="file",J=e=>typeof e=="function",Fe=e=>{if(!Ne)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Ve=e=>G(e),Be=e=>e.type==="radio",we=e=>e instanceof RegExp;const We={value:!1,isValid:!1},ze={value:!0,isValid:!0};var tr=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?ze:{value:e[0].value,isValid:!0}:ze:We}return We};const Je={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,Je):Je;function Ge(e,n,a="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||z(e)&&!e)return{type:a,message:Ve(e)?e:"",ref:n}}var oe=e=>x(e)&&!we(e)?e:{value:e,message:""},Ke=async(e,n,a,t,o,d)=>{const{ref:l,refs:h,required:g,maxLength:N,minLength:A,min:b,max:$,pattern:he,validate:K,name:E,valueAsNumber:X,mount:ge}=e._f,V=m(a,E);if(!ge||n.has(E))return{};const M=h?h[0]:l,B=p=>{o&&M.reportValidity&&(M.setCustomValidity(z(p)?"":p||""),M.reportValidity())},w={},se=Be(l),ae=ye(l),be=se||ae,Q=(X||Ce(l))&&k(l.value)&&k(V)||Fe(l)&&l.value===""||V===""||Array.isArray(V)&&!V.length,Y=dr.bind(null,E,t,w),le=(p,S,D,T="maxLength",I="minLength")=>{const W=p?S:D;w[E]={type:p?T:I,message:W,ref:l,...Y(p?T:I,W)}};if(d?!Array.isArray(V)||!V.length:g&&(!be&&(Q||C(V))||z(V)&&!V||ae&&!tr(h).isValid||se&&!sr(h).isValid)){const{value:p,message:S}=Ve(g)?{value:!!g,message:g}:oe(g);if(p&&(w[E]={type:Re,message:S,ref:M,...Y(Re,S)},!t))return B(S),w}if(!(Q||C(b)&&C($))){let p,S;const D=oe($),T=oe(b);if(C(V)||isNaN(V)){const I=l.valueAsDate||new Date(V),W=pe=>new Date(new Date().toDateString()+" "+pe),ie=l.type=="time",ue=l.type=="week";G(D.value)&&V&&(p=ie?W(V)>W(D.value):ue?V>D.value:I>new Date(D.value)),G(T.value)&&V&&(S=ie?W(V)<W(T.value):ue?V<T.value:I<new Date(T.value))}else{const I=l.valueAsNumber||V&&+V;C(D.value)||(p=I>D.value),C(T.value)||(S=I<T.value)}if((p||S)&&(le(!!p,D.message,T.message,"max","min"),!t))return B(w[E].message),w}if((N||A)&&!Q&&(G(V)||d&&Array.isArray(V))){const p=oe(N),S=oe(A),D=!C(p.value)&&V.length>+p.value,T=!C(S.value)&&V.length<+S.value;if((D||T)&&(le(D,p.message,S.message),!t))return B(w[E].message),w}if(he&&!Q&&G(V)){const{value:p,message:S}=oe(he);if(we(p)&&!V.match(p)&&(w[E]={type:Ie,message:S,ref:l,...Y(Ie,S)},!t))return B(S),w}if(K){if(J(K)){const p=Ge(await K(V,a),M);if(p&&(w[E]={...p,...Y("validate",p.message)},!t))return B(p.message),w}else if(x(K)){let p={};for(const S in K){if(!U(p)&&!t)break;const D=Ge(await K[S](V,a),M,S);D&&(p={...D,...Y(S,D.message)},B(D.message),t&&(w[E]=p))}if(!U(p)&&(w[E]={ref:M,...p},!t))return w}}return B(!0),w};function L(e,n){const a=Array.isArray(n)?n:Te(n)?[n]:Ze(n),t=a.length===1?e:function(l,h){const g=h.slice(0,-1).length;let N=0;for(;N<g;)l=k(l)?N++:l[h[N++]];return l}(e,a),o=a.length-1,d=a[o];return t&&delete t[d],o!==0&&(x(t)&&U(t)||Array.isArray(t)&&function(l){for(const h in l)if(l.hasOwnProperty(h)&&!k(l[h]))return!1;return!0}(t))&&L(e,a.slice(0,-1)),e}var Ee=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},Le=e=>C(e)||!Ye(e);function ee(e,n){if(Le(e)||Le(n))return e===n;if(te(e)&&te(n))return e.getTime()===n.getTime();const a=Object.keys(e),t=Object.keys(n);if(a.length!==t.length)return!1;for(const o of a){const d=e[o];if(!t.includes(o))return!1;if(o!=="ref"){const l=n[o];if(te(d)&&te(l)||x(d)&&x(l)||Array.isArray(d)&&Array.isArray(l)?!ee(d,l):d!==l)return!1}}return!0}var ar=e=>e.type==="select-multiple",Oe=e=>Fe(e)&&e.isConnected,ir=e=>{for(const n in e)if(J(e[n]))return!0;return!1};function Se(e,n={}){const a=Array.isArray(e);if(x(e)||a)for(const t in e)Array.isArray(e[t])||x(e[t])&&!ir(e[t])?(n[t]=Array.isArray(e[t])?[]:{},Se(e[t],n[t])):C(e[t])||(n[t]=!0);return n}function nr(e,n,a){const t=Array.isArray(e);if(x(e)||t)for(const o in e)Array.isArray(e[o])||x(e[o])&&!ir(e[o])?k(n)||Le(a[o])?a[o]=Array.isArray(e[o])?Se(e[o],[]):{...Se(e[o])}:nr(e[o],C(n)?{}:n[o],a[o]):a[o]=!ee(e[o],n[o]);return a}var fe=(e,n)=>nr(e,n,Se(n)),or=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:t})=>k(e)?e:n?e===""?NaN:e&&+e:a&&G(e)?new Date(e):t?t(e):e;function je(e){const n=e.ref;return Ce(n)?n.files:Be(n)?sr(e.refs).value:ar(n)?[...n.selectedOptions].map(({value:a})=>a):ye(n)?tr(e.refs).value:or(k(n.value)?e.ref.value:n.value,e)}var ce=e=>k(e)?e:we(e)?e.source:x(e)?we(e.value)?e.value.source:e.value:e;const Qe="AsyncFunction";function Xe(e,n,a){const t=m(e,a);if(t||Te(a))return{error:t,name:a};const o=a.split(".");for(;o.length;){const d=o.join("."),l=m(n,d),h=m(e,d);if(l&&!Array.isArray(l)&&a!==d)return{name:a};if(h&&h.type)return{name:d,error:h};o.pop()}return{name:a}}const cr={mode:rr,reValidateMode:er,shouldFocusError:!0};function yr(e={}){let n,a={...cr,...e},t={submitCount:0,isDirty:!1,isLoading:J(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},o={},d=(x(a.defaultValues)||x(a.values))&&H(a.defaultValues||a.values)||{},l=a.shouldUnregister?{}:H(d),h={action:!1,mount:!1,watch:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},N=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ee(),array:Ee(),state:Ee()},$=He(a.mode),he=He(a.reValidateMode),K=a.criteriaMode===me,E=async r=>{if(!a.disabled&&(A.isValid||r)){const s=a.resolver?U((await M()).errors):await B(o,!0);s!==t.isValid&&b.state.next({isValid:s})}},X=(r,s)=>{a.disabled||!A.isValidating&&!A.validatingFields||((r||Array.from(g.mount)).forEach(i=>{i&&(s?F(t.validatingFields,i,s):L(t.validatingFields,i))}),b.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},ge=(r,s,i,f)=>{const c=m(o,r);if(c){const u=m(l,r,k(i)?m(d,r):i);k(u)||f&&f.defaultChecked||s?F(l,r,s?u:je(c._f)):ae(r,u),h.mount&&E()}},V=(r,s,i,f,c)=>{let u=!1,y=!1;const v={name:r};if(!a.disabled){const _=!!(m(o,r)&&m(o,r)._f&&m(o,r)._f.disabled);if(!i||f){A.isDirty&&(y=t.isDirty,t.isDirty=v.isDirty=w(),u=y!==v.isDirty);const O=_||ee(m(d,r),s);y=!(_||!m(t.dirtyFields,r)),O||_?L(t.dirtyFields,r):F(t.dirtyFields,r,!0),v.dirtyFields=t.dirtyFields,u=u||A.dirtyFields&&y!==!O}if(i){const O=m(t.touchedFields,r);O||(F(t.touchedFields,r,i),v.touchedFields=t.touchedFields,u=u||A.touchedFields&&O!==i)}u&&c&&b.state.next(v)}return u?v:{}},M=async r=>{X(r,!0);const s=await a.resolver(l,a.context,((i,f,c,u)=>{const y={};for(const v of i){const _=m(f,v);_&&F(y,v,_._f)}return{criteriaMode:c,names:[...i],fields:y,shouldUseNativeValidation:u}})(r||g.mount,o,a.criteriaMode,a.shouldUseNativeValidation));return X(r),s},B=async(r,s,i={valid:!0})=>{for(const c in r){const u=r[c];if(u){const{_f:y,...v}=u;if(y){const _=g.array.has(y.name),O=u._f&&!!(f=u._f)&&!!f.validate&&!!(J(f.validate)&&f.validate.constructor.name===Qe||x(f.validate)&&Object.values(f.validate).find(xe=>xe.constructor.name===Qe));O&&A.validatingFields&&X([c],!0);const q=await Ke(u,g.disabled,l,K,a.shouldUseNativeValidation&&!s,_);if(O&&A.validatingFields&&X([c]),q[y.name]&&(i.valid=!1,s))break;!s&&(m(q,y.name)?_?fr(t.errors,q,y.name):F(t.errors,y.name,q[y.name]):L(t.errors,y.name))}!U(v)&&await B(v,s,i)}}var f;return i.valid},w=(r,s)=>!a.disabled&&(r&&s&&F(l,r,s),!ee(S(),d)),se=(r,s,i)=>((f,c,u,y,v)=>G(f)?(y&&c.watch.add(f),m(u,f,v)):Array.isArray(f)?f.map(_=>(y&&c.watch.add(_),m(u,_))):(y&&(c.watchAll=!0),u))(r,g,{...h.mount?l:k(s)?d:G(r)?{[r]:s}:s},i,s),ae=(r,s,i={})=>{const f=m(o,r);let c=s;if(f){const u=f._f;u&&(!u.disabled&&F(l,r,or(s,u)),c=Fe(u.ref)&&C(s)?"":s,ar(u.ref)?[...u.ref.options].forEach(y=>y.selected=c.includes(y.value)):u.refs?ye(u.ref)?u.refs.length>1?u.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(c)?!!c.find(v=>v===y.value):c===y.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(y=>y.checked=y.value===c):Ce(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||b.values.next({name:r,values:{...l}})))}(i.shouldDirty||i.shouldTouch)&&V(r,c,i.shouldTouch,i.shouldDirty,!0),i.shouldValidate&&p(r)},be=(r,s,i)=>{for(const f in s){const c=s[f],u=`${r}.${f}`,y=m(o,u);(g.array.has(r)||x(c)||y&&!y._f)&&!te(c)?be(u,c,i):ae(u,c,i)}},Q=(r,s,i={})=>{const f=m(o,r),c=g.array.has(r),u=H(s);F(l,r,u),c?(b.array.next({name:r,values:{...l}}),(A.isDirty||A.dirtyFields)&&i.shouldDirty&&b.state.next({name:r,dirtyFields:fe(d,l),isDirty:w(r,u)})):!f||f._f||C(u)?ae(r,u,i):be(r,u,i),$e(r,g)&&b.state.next({...t}),b.values.next({name:h.mount?r:void 0,values:{...l}})},Y=async r=>{h.mount=!0;const s=r.target;let i=s.name,f=!0;const c=m(o,i),u=v=>{f=Number.isNaN(v)||te(v)&&isNaN(v.getTime())||ee(v,m(l,i,v))};if(c){let v,_;const O=s.type?je(c._f):(j=>x(j)&&j.target?ye(j.target)?j.target.checked:j.target.value:j)(r),q=r.type==="blur"||r.type==="focusout",xe=!((y=c._f).mount&&(y.required||y.min||y.max||y.maxLength||y.minLength||y.pattern||y.validate)||a.resolver||m(t.errors,i)||c._f.deps)||((j,Z,P,de,re)=>!re.isOnAll&&(!P&&re.isOnTouch?!(Z||j):(P?de.isOnBlur:re.isOnBlur)?!j:!(P?de.isOnChange:re.isOnChange)||j))(q,m(t.touchedFields,i),t.isSubmitted,he,$),De=$e(i,g,q);F(l,i,O),q?(c._f.onBlur&&c._f.onBlur(r),n&&n(0)):c._f.onChange&&c._f.onChange(r);const ke=V(i,O,q,!1),lr=!U(ke)||De;if(!q&&b.values.next({name:i,type:r.type,values:{...l}}),xe)return A.isValid&&(a.mode==="onBlur"&&q?E():q||E()),lr&&b.state.next({name:i,...De?{}:ke});if(!q&&De&&b.state.next({...t}),a.resolver){const{errors:j}=await M([i]);if(u(O),f){const Z=Xe(t.errors,o,i),P=Xe(j,o,Z.name||i);v=P.error,i=P.name,_=U(j)}}else X([i],!0),v=(await Ke(c,g.disabled,l,K,a.shouldUseNativeValidation))[i],X([i]),u(O),f&&(v?_=!1:A.isValid&&(_=await B(o,!0)));f&&(c._f.deps&&p(c._f.deps),((j,Z,P,de)=>{const re=m(t.errors,j),qe=A.isValid&&z(Z)&&t.isValid!==Z;var Pe;if(a.delayError&&P?(Pe=()=>((ne,ur)=>{F(t.errors,ne,ur),b.state.next({errors:t.errors})})(j,P),n=ne=>{clearTimeout(N),N=setTimeout(Pe,ne)},n(a.delayError)):(clearTimeout(N),n=null,P?F(t.errors,j,P):L(t.errors,j)),(P?!ee(re,P):re)||!U(de)||qe){const ne={...de,...qe&&z(Z)?{isValid:Z}:{},errors:t.errors,name:j};t={...t,...ne},b.state.next(ne)}})(i,_,v,ke))}var y},le=(r,s)=>{if(m(t.errors,s)&&r.focus)return r.focus(),1},p=async(r,s={})=>{let i,f;const c=_e(r);if(a.resolver){const u=await(async y=>{const{errors:v}=await M(y);if(y)for(const _ of y){const O=m(v,_);O?F(t.errors,_,O):L(t.errors,_)}else t.errors=v;return v})(k(r)?r:c);i=U(u),f=r?!c.some(y=>m(u,y)):i}else r?(f=(await Promise.all(c.map(async u=>{const y=m(o,u);return await B(y&&y._f?{[u]:y}:y)}))).every(Boolean),(f||t.isValid)&&E()):f=i=await B(o);return b.state.next({...!G(r)||A.isValid&&i!==t.isValid?{}:{name:r},...a.resolver||!r?{isValid:i}:{},errors:t.errors}),s.shouldFocus&&!f&&ve(o,le,r?c:g.mount),f},S=r=>{const s={...h.mount?l:d};return k(r)?s:G(r)?m(s,r):r.map(i=>m(s,i))},D=(r,s)=>({invalid:!!m((s||t).errors,r),isDirty:!!m((s||t).dirtyFields,r),error:m((s||t).errors,r),isValidating:!!m(t.validatingFields,r),isTouched:!!m((s||t).touchedFields,r)}),T=(r,s,i)=>{const f=(m(o,r,{_f:{}})._f||{}).ref,c=m(t.errors,r)||{},{ref:u,message:y,type:v,..._}=c;F(t.errors,r,{..._,...s,ref:f}),b.state.next({name:r,errors:t.errors,isValid:!1}),i&&i.shouldFocus&&f&&f.focus&&f.focus()},I=(r,s={})=>{for(const i of r?_e(r):g.mount)g.mount.delete(i),g.array.delete(i),s.keepValue||(L(o,i),L(l,i)),!s.keepError&&L(t.errors,i),!s.keepDirty&&L(t.dirtyFields,i),!s.keepTouched&&L(t.touchedFields,i),!s.keepIsValidating&&L(t.validatingFields,i),!a.shouldUnregister&&!s.keepDefaultValue&&L(d,i);b.values.next({values:{...l}}),b.state.next({...t,...s.keepDirty?{isDirty:w()}:{}}),!s.keepIsValid&&E()},W=({disabled:r,name:s,field:i,fields:f})=>{(z(r)&&h.mount||r||g.disabled.has(s))&&(r?g.disabled.add(s):g.disabled.delete(s),V(s,je(i?i._f:m(f,s)._f),!1,!1,!0))},ie=(r,s={})=>{let i=m(o,r);const f=z(s.disabled)||z(a.disabled);return F(o,r,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:r}},name:r,mount:!0,...s}}),g.mount.add(r),i?W({field:i,disabled:z(s.disabled)?s.disabled:a.disabled,name:r}):ge(r,!0,s.value),{...f?{disabled:s.disabled||a.disabled}:{},...a.progressive?{required:!!s.required,min:ce(s.min),max:ce(s.max),minLength:ce(s.minLength),maxLength:ce(s.maxLength),pattern:ce(s.pattern)}:{},name:r,onChange:Y,onBlur:Y,ref:c=>{if(c){ie(r,s),i=m(o,r);const u=k(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,y=(_=>Be(_)||ye(_))(u),v=i._f.refs||[];if(y?v.find(_=>_===u):u===i._f.ref)return;F(o,r,{_f:{...i._f,...y?{refs:[...v.filter(Oe),u,...Array.isArray(m(d,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),ge(r,!1,void 0,u)}else i=m(o,r,{}),i._f&&(i._f.mount=!1),(a.shouldUnregister||s.shouldUnregister)&&(!((u,y)=>u.has((v=>v.substring(0,v.search(/\.\d+(\.|$)/))||v)(y)))(g.array,r)||!h.action)&&g.unMount.add(r)}}},ue=()=>a.shouldFocusError&&ve(o,le,g.mount),pe=(r,s)=>async i=>{let f;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=H(l);if(g.disabled.size)for(const u of g.disabled)F(c,u,void 0);if(b.state.next({isSubmitting:!0}),a.resolver){const{errors:u,values:y}=await M();t.errors=u,c=y}else await B(o);if(L(t.errors,"root"),U(t.errors)){b.state.next({errors:{}});try{await r(c,i)}catch(u){f=u}}else s&&await s({...t.errors},i),ue(),setTimeout(ue);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},Ue=(r,s={})=>{const i=r?H(r):d,f=H(i),c=U(r),u=c?d:f;if(s.keepDefaultValues||(d=i),!s.keepValues){if(s.keepDirtyValues){const y=new Set([...g.mount,...Object.keys(fe(d,l))]);for(const v of Array.from(y))m(t.dirtyFields,v)?F(u,v,m(l,v)):Q(v,m(u,v))}else{if(Ne&&k(r))for(const y of g.mount){const v=m(o,y);if(v&&v._f){const _=Array.isArray(v._f.refs)?v._f.refs[0]:v._f.ref;if(Fe(_)){const O=_.closest("form");if(O){O.reset();break}}}}o={}}l=a.shouldUnregister?s.keepDefaultValues?H(d):{}:H(u),b.array.next({values:{...u}}),b.values.next({values:{...u}})}g={mount:s.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!A.isValid||!!s.keepIsValid||!!s.keepDirtyValues,h.watch=!!a.shouldUnregister,b.state.next({submitCount:s.keepSubmitCount?t.submitCount:0,isDirty:!c&&(s.keepDirty?t.isDirty:!(!s.keepDefaultValues||ee(r,d))),isSubmitted:!!s.keepIsSubmitted&&t.isSubmitted,dirtyFields:c?{}:s.keepDirtyValues?s.keepDefaultValues&&l?fe(d,l):t.dirtyFields:s.keepDefaultValues&&r?fe(d,r):s.keepDirty?t.dirtyFields:{},touchedFields:s.keepTouched?t.touchedFields:{},errors:s.keepErrors?t.errors:{},isSubmitSuccessful:!!s.keepIsSubmitSuccessful&&t.isSubmitSuccessful,isSubmitting:!1})},Me=(r,s)=>Ue(J(r)?r(l):r,s);return{control:{register:ie,unregister:I,getFieldState:D,handleSubmit:pe,setError:T,_executeSchema:M,_getWatch:se,_getDirty:w,_updateValid:E,_removeUnmounted:()=>{for(const r of g.unMount){const s=m(o,r);s&&(s._f.refs?s._f.refs.every(i=>!Oe(i)):!Oe(s._f.ref))&&I(r)}g.unMount=new Set},_updateFieldArray:(r,s=[],i,f,c=!0,u=!0)=>{if(f&&i&&!a.disabled){if(h.action=!0,u&&Array.isArray(m(o,r))){const y=i(m(o,r),f.argA,f.argB);c&&F(o,r,y)}if(u&&Array.isArray(m(t.errors,r))){const y=i(m(t.errors,r),f.argA,f.argB);c&&F(t.errors,r,y),((v,_)=>{!Ae(m(v,_)).length&&L(v,_)})(t.errors,r)}if(A.touchedFields&&u&&Array.isArray(m(t.touchedFields,r))){const y=i(m(t.touchedFields,r),f.argA,f.argB);c&&F(t.touchedFields,r,y)}A.dirtyFields&&(t.dirtyFields=fe(d,l)),b.state.next({name:r,isDirty:w(r,s),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(l,r,s)},_updateDisabledField:W,_getFieldArray:r=>Ae(m(h.mount?l:d,r,a.shouldUnregister?m(d,r,[]):[])),_reset:Ue,_resetDefaultValues:()=>J(a.defaultValues)&&a.defaultValues().then(r=>{Me(r,a.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:r=>{z(r)&&(b.state.next({disabled:r}),ve(o,(s,i)=>{const f=m(o,i);f&&(s.disabled=f._f.disabled||r,Array.isArray(f._f.refs)&&f._f.refs.forEach(c=>{c.disabled=f._f.disabled||r}))},0,!1))},_subjects:b,_proxyFormState:A,_setErrors:r=>{t.errors=r,b.state.next({errors:t.errors,isValid:!1})},get _fields(){return o},get _formValues(){return l},get _state(){return h},set _state(r){h=r},get _defaultValues(){return d},get _names(){return g},set _names(r){g=r},get _formState(){return t},set _formState(r){t=r},get _options(){return a},set _options(r){a={...a,...r}}},trigger:p,register:ie,handleSubmit:pe,watch:(r,s)=>J(r)?b.values.subscribe({next:i=>r(se(void 0,s),i)}):se(r,s,!0),setValue:Q,getValues:S,reset:Me,resetField:(r,s={})=>{m(o,r)&&(k(s.defaultValue)?Q(r,H(m(d,r))):(Q(r,s.defaultValue),F(d,r,H(s.defaultValue))),s.keepTouched||L(t.touchedFields,r),s.keepDirty||(L(t.dirtyFields,r),t.isDirty=s.defaultValue?w(r,H(m(d,r))):w()),s.keepError||(L(t.errors,r),A.isValid&&E()),b.state.next({...t}))},clearErrors:r=>{r&&_e(r).forEach(s=>L(t.errors,s)),b.state.next({errors:r?t.errors:{}})},unregister:I,setError:T,setFocus:(r,s={})=>{const i=m(o,r),f=i&&i._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),s.shouldSelect&&J(c.select)&&c.select())}},getFieldState:D}}function vr(e={}){const n=R.useRef(void 0),a=R.useRef(void 0),[t,o]=R.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});n.current||(n.current={...yr(e),formState:t});const d=n.current.control;return d._options=e,function(l){const h=R.useRef(l);h.current=l,R.useEffect(()=>{const g=!l.disabled&&h.current.subject&&h.current.subject.subscribe({next:h.current.next});return()=>{g&&g.unsubscribe()}},[l.disabled])}({subject:d._subjects.state,next:l=>{((h,g,N)=>{N(h);const{name:A,...b}=h;return U(b)||Object.keys(b).length>=Object.keys(g).length||Object.keys(b).find($=>g[$]===me)})(l,d._proxyFormState,d._updateFormState)&&o({...d._formState})}}),R.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),R.useEffect(()=>{if(d._proxyFormState.isDirty){const l=d._getDirty();l!==t.isDirty&&d._subjects.state.next({isDirty:l})}},[d,t.isDirty]),R.useEffect(()=>{e.values&&!ee(e.values,a.current)?(d._reset(e.values,d._options.resetOptions),a.current=e.values,o(l=>({...l}))):d._resetDefaultValues()},[e.values,d]),R.useEffect(()=>{e.errors&&d._setErrors(e.errors)},[e.errors,d]),R.useEffect(()=>{d._state.mount||(d._updateValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&d._subjects.values.next({values:d._getWatch()})},[e.shouldUnregister,d]),n.current.formState=((l,h,g,N=!0)=>{const A={defaultValues:h._defaultValues};for(const b in l)Object.defineProperty(A,b,{get:()=>{const $=b;return h._proxyFormState[$]!==me&&(h._proxyFormState[$]=!N||me),g&&(g[$]=!0),l[$]}});return A})(t,d),n.current}export{dr as a,m as g,F as s,vr as u};
