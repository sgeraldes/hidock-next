import{r as j}from"./vendor.b2c2aeb6.js";const f=r=>typeof r=="string",T=()=>{let r,t;const e=new Promise((s,n)=>{r=s,t=n});return e.resolve=r,e.reject=t,e},st=r=>r==null?"":""+r,xt=/###/g,nt=r=>r&&r.indexOf("###")>-1?r.replace(xt,"."):r,it=r=>!r||f(r),K=(r,t,e)=>{const s=f(t)?t.split("."):t;let n=0;for(;n<s.length-1;){if(it(r))return{};const i=nt(s[n]);!r[i]&&e&&(r[i]=new e),r=Object.prototype.hasOwnProperty.call(r,i)?r[i]:{},++n}return it(r)?{}:{obj:r,k:nt(s[n])}},rt=(r,t,e)=>{const{obj:s,k:n}=K(r,t,Object);if(s!==void 0||t.length===1)return void(s[n]=e);let i=t[t.length-1],a=t.slice(0,t.length-1),l=K(r,a,Object);for(;l.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),l=K(r,a,Object),l&&l.obj&&l.obj[`${l.k}.${i}`]!==void 0&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=e},J=(r,t)=>{const{obj:e,k:s}=K(r,t);if(e)return e[s]},mt=(r,t,e)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in r?f(r[s])||r[s]instanceof String||f(t[s])||t[s]instanceof String?e&&(r[s]=t[s]):mt(r[s],t[s],e):r[s]=t[s]);return r},A=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const St=r=>f(r)?r.replace(/[&<>"'\/]/g,t=>kt[t]):r,Lt=[" ",",","?","!",";"],Ot=new class{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const t=this.regExpMap.get(r);if(t!==void 0)return t;const e=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,e),this.regExpQueue.push(r),e}}(20),Z=function(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[t])return r[t];const s=t.split(e);let n=r;for(let i=0;i<s.length;){if(!n||typeof n!="object")return;let a,l="";for(let o=i;o<s.length;++o)if(o!==i&&(l+=e),l+=s[o],a=n[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&o<s.length-1)continue;i+=o-i+1;break}n=a}return n},H=r=>r&&r.replace("_","-"),wt={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,t){console&&console[r]}};class q{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||wt,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,s,n){return n&&!this.debug?null:(f(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new q(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new q(this.logger,t)}}var R=new q;class Y{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const n=this.observers[s].get(e)||0;this.observers[s].set(e,n+1)}),this}off(t,e){this.observers[t]&&(e?this.observers[t].delete(e):delete this.observers[t])}emit(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),n=1;n<e;n++)s[n-1]=arguments[n];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[a,l]=i;for(let o=0;o<l;o++)a(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[a,l]=i;for(let o=0;o<l;o++)a.apply(a,[t,...s])})}}class at extends Y{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,e],s&&(Array.isArray(s)?l.push(...s):f(s)&&i?l.push(...s.split(i)):l.push(s)));const o=J(this.data,l);return!o&&!e&&!s&&t.indexOf(".")>-1&&(t=l[0],e=l[1],s=l.slice(2).join(".")),!o&&a&&f(s)?Z(this.data&&this.data[t]&&this.data[t][e],s,i):o}addResource(t,e,s,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,e];s&&(l=l.concat(a?s.split(a):s)),t.indexOf(".")>-1&&(l=t.split("."),n=e,e=l[1]),this.addNamespaces(e),rt(this.data,l,n),i.silent||this.emit("added",t,e,s,n)}addResources(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(f(s[i])||Array.isArray(s[i]))&&this.addResource(t,e,i,s[i],{silent:!0});n.silent||this.emit("added",t,e,s)}addResourceBundle(t,e,s,n,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,e];t.indexOf(".")>-1&&(l=t.split("."),n=s,s=e,e=l[1]),this.addNamespaces(e);let o=J(this.data,l)||{};a.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?mt(o,s,i):o={...o,...s},rt(this.data,l,o),a.silent||this.emit("added",t,e,s)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(s=>e[s]&&Object.keys(e[s]).length>0)}toJSON(){return this.data}}var yt={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,t,e,s,n){return r.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,e,s,n))}),t}};const ot={};class W extends Y{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),((s,n,i)=>{["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(a=>{n[a]&&(i[a]=n[a])})})(0,t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=R.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const s=this.resolve(t,e);return s&&s.res!==void 0}extractFromKey(t,e){let s=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const n=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let i=e.ns||this.options.defaultNS||[];const a=s&&t.indexOf(s)>-1,l=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||((o,g,h)=>{g=g||"",h=h||"";const c=Lt.filter(p=>g.indexOf(p)<0&&h.indexOf(p)<0);if(c.length===0)return!0;const u=Ot.getRegExp(`(${c.map(p=>p==="?"?"\\?":p).join("|")})`);let d=!u.test(o);if(!d){const p=o.indexOf(h);p>0&&!u.test(o.substring(0,p))&&(d=!0)}return d})(t,s,n));if(a&&!l){const o=t.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:t,namespaces:f(i)?[i]:i};const g=t.split(s);(s!==n||s===n&&this.options.ns.indexOf(g[0])>-1)&&(i=g.shift()),t=g.join(n)}return{key:t,namespaces:f(i)?[i]:i}}translate(t,e,s){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const n=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(t[t.length-1],e),o=l[l.length-1],g=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g&&g.toLowerCase()==="cimode"){if(h){const m=e.nsSeparator||this.options.nsSeparator;return n?{res:`${o}${m}${a}`,usedKey:a,exactUsedKey:a,usedLng:g,usedNS:o,usedParams:this.getUsedParamsDetails(e)}:`${o}${m}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:g,usedNS:o,usedParams:this.getUsedParamsDetails(e)}:a}const c=this.resolve(t,e);let u=c&&c.res;const d=c&&c.usedKey||a,p=c&&c.exactUsedKey||a,S=Object.prototype.toString.apply(u),k=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,x=!f(u)&&typeof u!="boolean"&&typeof u!="number";if(!(C&&u&&x&&["[object Number]","[object Function]","[object RegExp]"].indexOf(S)<0)||f(k)&&Array.isArray(u))if(C&&f(k)&&Array.isArray(u))u=u.join(k),u&&(u=this.extendTranslation(u,t,e,s));else{let m=!1,y=!1;const b=e.count!==void 0&&!f(e.count),v=W.hasDefaultValue(e),L=b?this.pluralResolver.getSuffix(g,e.count,e):"",O=e.ordinal&&b?this.pluralResolver.getSuffix(g,e.count,{ordinal:!1}):"",U=b&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),$=U&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${L}`]||e[`defaultValue${O}`]||e.defaultValue;!this.isValidLookup(u)&&v&&(m=!0,u=$),this.isValidLookup(u)||(y=!0,u=a);const _=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&y?void 0:u,E=v&&$!==u&&this.options.updateMissing;if(y||m||E){if(this.logger.log(E?"updateKey":"missingKey",g,o,a,E?$:u),i){const w=this.resolve(a,{...e,keySeparator:!1});w&&w.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let P=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let w=0;w<F.length;w++)P.push(F[w]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(e.lng||this.language):P.push(e.lng||this.language);const z=(w,I,D)=>{const et=v&&D!==u?D:_;this.options.missingKeyHandler?this.options.missingKeyHandler(w,o,I,et,E,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(w,o,I,et,E,e),this.emit("missingKey",w,o,I,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?P.forEach(w=>{const I=this.pluralResolver.getSuffixes(w,e);U&&e[`defaultValue${this.options.pluralSeparator}zero`]&&I.indexOf(`${this.options.pluralSeparator}zero`)<0&&I.push(`${this.options.pluralSeparator}zero`),I.forEach(D=>{z([w],a+D,e[`defaultValue${D}`]||$)})}):z(P,a,$))}u=this.extendTranslation(u,t,e,c,s),y&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${o}:${a}`),(y||m)&&this.options.parseMissingKeyHandler&&(u=this.options.compatibilityAPI!=="v1"?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${a}`:a,m?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const m=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,u,{...e,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(c.res=m,c.usedParams=this.getUsedParamsDetails(e),c):m}if(i){const m=Array.isArray(u),y=m?[]:{},b=m?p:d;for(const v in u)if(Object.prototype.hasOwnProperty.call(u,v)){const L=`${b}${i}${v}`;y[v]=this.translate(L,{...e,joinArrays:!1,ns:l}),y[v]===L&&(y[v]=u[v])}u=y}}return n?(c.res=u,c.usedParams=this.getUsedParamsDetails(e),c):u}extendTranslation(t,e,s,n,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const g=f(t)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(g){const u=t.match(this.interpolator.nestingRegexp);h=u&&u.length}let c=s.replace&&!f(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),t=this.interpolator.interpolate(t,c,s.lng||this.language||n.usedLng,s),g){const u=t.match(this.interpolator.nestingRegexp);h<(u&&u.length)&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(s.lng=this.language||n.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return i&&i[0]===d[0]&&!s.context?(a.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${e[0]}`),null):a.translate(...d,e)},s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,o=f(l)?[l]:l;return t!=null&&o&&o.length&&s.applyPostProcessor!==!1&&(t=yt.handle(o,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t){let e,s,n,i,a,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return f(t)&&(t=[t]),t.forEach(o=>{if(this.isValidLookup(e))return;const g=this.extractFromKey(o,l),h=g.key;s=h;let c=g.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=l.count!==void 0&&!f(l.count),d=u&&!l.ordinal&&l.count===0&&this.pluralResolver.shouldUseIntlApi(),p=l.context!==void 0&&(f(l.context)||typeof l.context=="number")&&l.context!=="",S=l.lngs?l.lngs:this.languageUtils.toResolveHierarchy(l.lng||this.language,l.fallbackLng);c.forEach(k=>{this.isValidLookup(e)||(a=k,!ot[`${S[0]}-${k}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ot[`${S[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(C=>{if(this.isValidLookup(e))return;i=C;const x=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,h,C,k,l);else{let y;u&&(y=this.pluralResolver.getSuffix(C,l.count,l));const b=`${this.options.pluralSeparator}zero`,v=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(x.push(h+y),l.ordinal&&y.indexOf(v)===0&&x.push(h+y.replace(v,this.options.pluralSeparator)),d&&x.push(h+b)),p){const L=`${h}${this.options.contextSeparator}${l.context}`;x.push(L),u&&(x.push(L+y),l.ordinal&&y.indexOf(v)===0&&x.push(L+y.replace(v,this.options.pluralSeparator)),d&&x.push(L+b))}}let m;for(;m=x.pop();)this.isValidLookup(e)||(n=m,e=this.getResource(C,k,m,l))}))})}),{res:e,usedKey:s,exactUsedKey:n,usedLng:i,usedNS:a}}isValidLookup(t){return!(t===void 0||!this.options.returnNull&&t===null||!this.options.returnEmptyString&&t==="")}getResource(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,s,n):this.resourceStore.getResource(t,e,s,n)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!f(t.replace);let n=s?t.replace:t;if(s&&t.count!==void 0&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!s){n={...n};for(const i of e)delete n[i]}return n}static hasDefaultValue(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&e.substring(0,12)==="defaultValue"&&t[e]!==void 0)return!0;return!1}}const Q=r=>r.charAt(0).toUpperCase()+r.slice(1);class lt{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=R.create("languageUtils")}getScriptPartFromCode(t){if(!(t=H(t))||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2?null:(e.pop(),e[e.length-1].toLowerCase()==="x"?null:this.formatLanguageCode(e.join("-")))}getLanguagePartFromCode(t){if(!(t=H(t))||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(f(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&Intl.getCanonicalLocales!==void 0)try{let n=Intl.getCanonicalLocales(t)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let s=t.split("-");return this.options.lowerCaseLng?s=s.map(n=>n.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),e.indexOf(s[1].toLowerCase())>-1&&(s[1]=Q(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),e.indexOf(s[1].toLowerCase())>-1&&(s[1]=Q(s[1].toLowerCase())),e.indexOf(s[2].toLowerCase())>-1&&(s[2]=Q(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(s=>{if(e)return;const n=this.formatLanguageCode(s);this.options.supportedLngs&&!this.isSupportedCode(n)||(e=n)}),!e&&this.options.supportedLngs&&t.forEach(s=>{if(e)return;const n=this.getLanguagePartFromCode(s);if(this.isSupportedCode(n))return e=n;e=this.options.supportedLngs.find(i=>i===n?i:i.indexOf("-")<0&&n.indexOf("-")<0?void 0:i.indexOf("-")>0&&n.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===n||i.indexOf(n)===0&&n.length>1?i:void 0)}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),f(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let s=t[e];return s||(s=t[this.getScriptPartFromCode(e)]),s||(s=t[this.formatLanguageCode(e)]),s||(s=t[this.getLanguagePartFromCode(e)]),s||(s=t.default),s||[]}toResolveHierarchy(t,e){const s=this.getFallbackCodes(e||this.options.fallbackLng||[],t),n=[],i=a=>{a&&(this.isSupportedCode(a)?n.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return f(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):f(t)&&i(this.formatLanguageCode(t)),s.forEach(a=>{n.indexOf(a)<0&&i(this.formatLanguageCode(a))}),n}}let Nt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ct={1:r=>+(r>1),2:r=>+(r!=1),3:r=>0,4:r=>r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,5:r=>r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5,6:r=>r==1?0:r>=2&&r<=4?1:2,7:r=>r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,8:r=>r==1?0:r==2?1:r!=8&&r!=11?2:3,9:r=>+(r>=2),10:r=>r==1?0:r==2?1:r<7?2:r<11?3:4,11:r=>r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3,12:r=>+(r%10!=1||r%100==11),13:r=>+(r!==0),14:r=>r==1?0:r==2?1:r==3?2:3,15:r=>r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2,16:r=>r%10==1&&r%100!=11?0:r!==0?1:2,17:r=>r==1||r%10==1&&r%100!=11?0:1,18:r=>r==0?0:r==1?1:2,19:r=>r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3,20:r=>r==1?0:r==0||r%100>0&&r%100<20?1:2,21:r=>r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0,22:r=>r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3};const Rt=["v1","v2","v3"],$t=["v4"],ut={zero:0,one:1,two:2,few:3,many:4,other:5};class Pt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=R.create("pluralResolver"),this.options.compatibilityJSON&&!$t.includes(this.options.compatibilityJSON)||typeof Intl<"u"&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const s={};return Nt.forEach(n=>{n.lngs.forEach(i=>{s[i]={numbers:n.nr,plurals:Ct[n.fc]}})}),s})(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const s=H(t==="dev"?"en":t),n=e.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(s,{type:n})}catch{if(!t.match(/-|_/))return;const o=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(o,e)}return this.pluralRulesCache[i]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,e);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,s).map(n=>`${e}${n}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,e);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((n,i)=>ut[n]-ut[i]).map(n=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${n}`):s.numbers.map(n=>this.getSuffix(t,n,e)):[]}getSuffix(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(t,s);return n?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(e)}`:this.getSuffixRetroCompatible(n,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const s=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let n=t.numbers[s];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const i=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!Rt.includes(this.options.compatibilityJSON)}}const gt=function(r,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],i=((a,l,o)=>{const g=J(a,o);return g!==void 0?g:J(l,o)})(r,t,e);return!i&&n&&f(e)&&(i=Z(r,e,s),i===void 0&&(i=Z(t,e,s))),i},G=r=>r.replace(/\$/g,"$$$$");class jt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=R.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:s,useRawValueToEscape:n,prefix:i,prefixEscaped:a,suffix:l,suffixEscaped:o,formatSeparator:g,unescapeSuffix:h,unescapePrefix:c,nestingPrefix:u,nestingPrefixEscaped:d,nestingSuffix:p,nestingSuffixEscaped:S,nestingOptionsSeparator:k,maxReplaces:C,alwaysFormat:x}=t.interpolation;this.escape=e!==void 0?e:St,this.escapeValue=s===void 0||s,this.useRawValueToEscape=n!==void 0&&n,this.prefix=i?A(i):a||"{{",this.suffix=l?A(l):o||"}}",this.formatSeparator=g||",",this.unescapePrefix=h?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=u?A(u):d||A("$t("),this.nestingSuffix=p?A(p):S||A(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=C||1e3,this.alwaysFormat=x!==void 0&&x,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,s)=>e&&e.source===s?(e.lastIndex=0,e):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,s,n){let i,a,l;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=u=>{if(u.indexOf(this.formatSeparator)<0){const k=gt(e,o,u,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,s,{...n,...e,interpolationkey:u}):k}const d=u.split(this.formatSeparator),p=d.shift().trim(),S=d.join(this.formatSeparator).trim();return this.format(gt(e,o,p,this.options.keySeparator,this.options.ignoreJSONStructure),S,s,{...n,...e,interpolationkey:p})};this.resetRegExp();const h=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,c=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:u=>G(u)},{regex:this.regexp,safeValue:u=>this.escapeValue?G(this.escape(u)):G(u)}].forEach(u=>{for(l=0;i=u.regex.exec(t);){const d=i[1].trim();if(a=g(d),a===void 0)if(typeof h=="function"){const S=h(t,i,n);a=f(S)?S:""}else if(n&&Object.prototype.hasOwnProperty.call(n,d))a="";else{if(c){a=i[0];continue}this.logger.warn(`missed to pass in variable ${d} for interpolating ${t}`),a=""}else f(a)||this.useRawValueToEscape||(a=st(a));const p=u.safeValue(a);if(t=t.replace(i[0],p),c?(u.regex.lastIndex+=a.length,u.regex.lastIndex-=i[0].length):u.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,e){let s,n,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=(o,g)=>{const h=this.nestingOptionsSeparator;if(o.indexOf(h)<0)return o;const c=o.split(new RegExp(`${h}[ ]*{`));let u=`{${c[1]}`;o=c[0],u=this.interpolate(u,i);const d=u.match(/'/g),p=u.match(/"/g);(d&&d.length%2==0&&!p||p.length%2!=0)&&(u=u.replace(/'/g,'"'));try{i=JSON.parse(u),g&&(i={...g,...i})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${o}`,S),`${o}${h}${u}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,o};for(;s=this.nestingRegexp.exec(t);){let o=[];i={...a},i=i.replace&&!f(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let g=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const h=s[1].split(this.formatSeparator).map(c=>c.trim());s[1]=h.shift(),o=h,g=!0}if(n=e(l.call(this,s[1].trim(),i),i),n&&s[0]===t&&!f(n))return n;f(n)||(n=st(n)),n||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),n=""),g&&(n=o.reduce((h,c)=>this.format(h,c,a.lng,{...a,interpolationkey:s[1].trim()}),n.trim())),t=t.replace(s[0],n),this.regexp.lastIndex=0}return t}}const V=r=>{const t={};return(e,s,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const a=s+JSON.stringify(i);let l=t[a];return l||(l=r(H(s),n),t[a]=l),l(e)}};class Et{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=R.create("formatter"),this.options=t,this.formats={number:V((e,s)=>{const n=new Intl.NumberFormat(e,{...s});return i=>n.format(i)}),currency:V((e,s)=>{const n=new Intl.NumberFormat(e,{...s,style:"currency"});return i=>n.format(i)}),datetime:V((e,s)=>{const n=new Intl.DateTimeFormat(e,{...s});return i=>n.format(i)}),relativetime:V((e,s)=>{const n=new Intl.RelativeTimeFormat(e,{...s});return i=>n.format(i,s.range||"day")}),list:V((e,s)=>{const n=new Intl.ListFormat(e,{...s});return i=>n.format(i)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=V(e)}format(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=e.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:o,formatOptions:g}=(h=>{let c=h.toLowerCase().trim();const u={};if(h.indexOf("(")>-1){const d=h.split("(");c=d[0].toLowerCase().trim();const p=d[1].substring(0,d[1].length-1);c==="currency"&&p.indexOf(":")<0?u.currency||(u.currency=p.trim()):c==="relativetime"&&p.indexOf(":")<0?u.range||(u.range=p.trim()):p.split(";").forEach(S=>{if(S){const[k,...C]=S.split(":"),x=C.join(":").trim().replace(/^'+|'+$/g,""),m=k.trim();u[m]||(u[m]=x),x==="false"&&(u[m]=!1),x==="true"&&(u[m]=!0),isNaN(x)||(u[m]=parseInt(x,10))}})}return{formatName:c,formatOptions:u}})(l);if(this.formats[o]){let h=a;try{const c=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},u=c.locale||c.lng||n.locale||n.lng||s;h=this.formats[o](a,u,{...g,...n,...c})}catch(c){this.logger.warn(c)}return h}return this.logger.warn(`there was no format function for ${o}`),a},t)}}class It extends Y{constructor(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=R.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,n.backend,n)}queueLoad(t,e,s,n){const i={},a={},l={},o={};return t.forEach(g=>{let h=!0;e.forEach(c=>{const u=`${g}|${c}`;!s.reload&&this.store.hasResourceBundle(g,c)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?a[u]===void 0&&(a[u]=!0):(this.state[u]=1,h=!1,a[u]===void 0&&(a[u]=!0),i[u]===void 0&&(i[u]=!0),o[c]===void 0&&(o[c]=!0)))}),h||(l[g]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(o)}}loaded(t,e,s){const n=t.split("|"),i=n[0],a=n[1];e&&this.emit("failedLoading",i,a,e),!e&&s&&this.store.addResourceBundle(i,a,s,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&s&&(this.state[t]=0);const l={};this.queue.forEach(o=>{((g,h,c)=>{const{obj:u,k:d}=K(g,h,Object);u[d]=u[d]||[],u[d].push(c)})(o.loaded,[i],a),((g,h)=>{g.pending[h]!==void 0&&(delete g.pending[h],g.pendingCount--)})(o,t),e&&o.errors.push(e),o.pendingCount!==0||o.done||(Object.keys(o.loaded).forEach(g=>{l[g]||(l[g]={});const h=o.loaded[g];h.length&&h.forEach(c=>{l[g][c]===void 0&&(l[g][c]=!0)})}),o.done=!0,o.errors.length?o.callback(o.errors):o.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(o=>!o.done)}read(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:e,fcName:s,tried:n,wait:i,callback:a});this.readingCalls++;const l=(g,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}g&&h&&n<this.maxRetries?setTimeout(()=>{this.read.call(this,t,e,s,n+1,2*i,a)},i):a(g,h)},o=this.backend[s].bind(this.backend);if(o.length!==2)return o(t,e,l);try{const g=o(t,e);g&&typeof g.then=="function"?g.then(h=>l(null,h)).catch(l):l(null,g)}catch(g){l(g)}}prepareLoading(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();f(t)&&(t=this.languageUtils.toResolveHierarchy(t)),f(e)&&(e=[e]);const i=this.queueLoad(t,e,s,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,e,s){this.prepareLoading(t,e,{},s)}reload(t,e,s){this.prepareLoading(t,e,{reload:!0},s)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=t.split("|"),n=s[0],i=s[1];this.read(n,i,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${e}loading namespace ${i} for language ${n} failed`,a),!a&&l&&this.logger.log(`${e}loaded namespace ${i} for language ${n}`,l),this.loaded(t,a,l)})}saveMissing(t,e,s,n,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))this.logger.warn(`did not save key "${s}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(s!=null&&s!==""){if(this.backend&&this.backend.create){const o={...a,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let h;h=g.length===5?g(t,e,s,n,o):g(t,e,s,n),h&&typeof h.then=="function"?h.then(c=>l(null,c)).catch(l):l(null,h)}catch(h){l(h)}else g(t,e,s,n,l,o)}t&&t[0]&&this.store.addResource(t[0],e,s,n)}}}const ht=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let t={};if(typeof r[1]=="object"&&(t=r[1]),f(r[1])&&(t.defaultValue=r[1]),f(r[2])&&(t.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const e=r[3]||r[2];Object.keys(e).forEach(s=>{t[s]=e[s]})}return t},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ct=r=>(f(r.ns)&&(r.ns=[r.ns]),f(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),f(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r),B=()=>{};class M extends Y{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;var s;if(super(),this.options=ct(t),this.services={},this.logger=R,this.modules={external:[]},s=this,Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(n=>{typeof s[n]=="function"&&(s[n]=s[n].bind(s))}),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(f(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=ht();this.options={...n,...this.options,...ct(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=o=>o?typeof o=="function"?new o:o:null;if(!this.options.isClone){let o;this.modules.logger?R.init(i(this.modules.logger),this.options):R.init(null,this.options),this.modules.formatter?o=this.modules.formatter:typeof Intl<"u"&&(o=Et);const g=new lt(this.options);this.store=new at(this.options.resources,this.options);const h=this.services;h.logger=R,h.resourceStore=this.store,h.languageUtils=g,h.pluralResolver=new Pt(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(h.formatter=i(o),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new jt(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new It(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];t.emit(c,...d)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new W(this.services,this.options),this.translator.on("*",function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];t.emit(c,...d)}),this.modules.external.forEach(c=>{c.init&&c.init(this)})}if(this.format=this.options.interpolation.format,s||(s=B),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&o[0]!=="dev"&&(this.options.lng=o[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(o=>{this[o]=function(){return t.store[o](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(o=>{this[o]=function(){return t.store[o](...arguments),t}});const a=T(),l=()=>{const o=(g,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(h),s(g,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return o(null,this.t.bind(this));this.changeLanguage(this.options.lng,o)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),a}loadResources(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B;const s=f(t)?t:this.language;if(typeof t=="function"&&(e=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return e();const n=[],i=a=>{a&&a!=="cimode"&&this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{l!=="cimode"&&n.indexOf(l)<0&&n.push(l)})};s?i(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>i(a)),this.options.preload&&this.options.preload.forEach(a=>i(a)),this.services.backendConnector.load(n,this.options.ns,a=>{a||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),e(a)})}else e(null)}reloadResources(t,e,s){const n=T();return typeof t=="function"&&(s=t,t=void 0),typeof e=="function"&&(s=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),s||(s=B),this.services.backendConnector.reload(t,e,i=>{n.resolve(),s(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&yt.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const s=this.languages[e];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(t,e){var s=this;this.isLanguageChangingTo=t;const n=T();this.emit("languageChanging",t);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,g)=>{g?(i(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,n.resolve(function(){return s.t(...arguments)}),e&&e(o,function(){return s.t(...arguments)})},l=o=>{t||o||!this.services.languageDetector||(o=[]);const g=f(o)?o:this.services.languageUtils.getBestMatchFromCodes(o);g&&(this.language||i(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(g)),this.loadResources(g,h=>{a(h,g)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t):l(this.services.languageDetector.detect()),n}getFixedT(t,e,s){var n=this;const i=function(a,l){let o;if(typeof l!="object"){for(var g=arguments.length,h=new Array(g>2?g-2:0),c=2;c<g;c++)h[c-2]=arguments[c];o=n.options.overloadTranslationOptionHandler([a,l].concat(h))}else o={...l};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,o.keyPrefix!==""&&(o.keyPrefix=o.keyPrefix||s||i.keyPrefix);const u=n.options.keySeparator||".";let d;return d=o.keyPrefix&&Array.isArray(a)?a.map(p=>`${o.keyPrefix}${u}${p}`):o.keyPrefix?`${o.keyPrefix}${u}${a}`:a,n.t(d,o)};return f(t)?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=s,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=e.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(l,o)=>{const g=this.services.backendConnector.state[`${l}|${o}`];return g===-1||g===0||g===2};if(e.precheck){const l=e.precheck(this,a);if(l!==void 0)return l}return!(!this.hasResourceBundle(s,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(s,t)||n&&!a(i,t)))}loadNamespaces(t,e){const s=T();return this.options.ns?(f(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{s.resolve(),e&&e(n)}),s):(e&&e(),Promise.resolve())}loadLanguages(t,e){const s=T();f(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(a=>n.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=n.concat(i),this.loadResources(a=>{s.resolve(),e&&e(a)}),s):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=this.services&&this.services.languageUtils||new lt(ht());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new M(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B;const s=t.forkResourceStore;s&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new M(n);return t.debug===void 0&&t.prefix===void 0||(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new at(this.store.data,n),i.services.resourceStore=i.store),i.translator=new W(i.services,n),i.translator.on("*",function(a){for(var l=arguments.length,o=new Array(l>1?l-1:0),g=1;g<l;g++)o[g-1]=arguments[g];i.emit(a,...o)}),i.init(n,e),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const N=M.createInstance();N.createInstance=M.createInstance,N.createInstance,N.dir,N.init,N.loadResources,N.reloadResources,N.use,N.changeLanguage,N.getFixedT;const Kt=N.t;N.exists,N.setDefaultNamespace,N.hasLoadedNamespace,N.loadNamespaces,N.loadLanguages;const pt={};function X(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];typeof t[0]=="string"&&pt[t[0]]||(typeof t[0]=="string"&&(pt[t[0]]=new Date),function(){if(console&&console.warn){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];typeof n[0]=="string"&&(n[0]=`react-i18next:: ${n[0]}`)}}(...t))}const vt=(r,t)=>()=>{if(r.isInitialized)t();else{const e=()=>{setTimeout(()=>{r.off("initialized",e)},0),t()};r.on("initialized",e)}};function dt(r,t,e){r.loadNamespaces(t,vt(r,e))}function ft(r,t,e,s){typeof e=="string"&&(e=[e]),e.forEach(n=>{r.options.ns.indexOf(n)<0&&r.options.ns.push(n)}),r.loadLanguages(t,vt(r,s))}const Ft=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,At={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Vt=r=>At[r];let bt,tt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:r=>r.replace(Ft,Vt)};const Mt={type:"3rdParty",init(r){(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt={...tt,...t}})(r.options.react),function(t){bt=t}(r)}},Ut=j.createContext();class Dt{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function zt(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:e}=t,{i18n:s,defaultNS:n}=j.useContext(Ut)||{},i=e||s||bt;if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Dt),!i){X("You will need to pass in an i18next instance by using initReactI18next");const m=(b,v)=>typeof v=="string"?v:v&&typeof v=="object"&&typeof v.defaultValue=="string"?v.defaultValue:Array.isArray(b)?b[b.length-1]:b,y=[m,{},!1];return y.t=m,y.i18n={},y.ready=!1,y}i.options.react&&i.options.react.wait!==void 0&&X("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...tt,...i.options.react,...t},{useSuspense:l,keyPrefix:o}=a;let g=r||n||i.options&&i.options.defaultNS;g=typeof g=="string"?[g]:g||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(g);const h=(i.isInitialized||i.initializedStoreOnce)&&g.every(m=>function(y,b){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.languages&&b.languages.length?b.options.ignoreJSONStructure!==void 0?b.hasLoadedNamespace(y,{lng:v.lng,precheck:(L,O)=>{if(v.bindI18n&&v.bindI18n.indexOf("languageChanging")>-1&&L.services.backendConnector.backend&&L.isLanguageChangingTo&&!O(L.isLanguageChangingTo,y))return!1}}):function(L,O){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const $=O.languages[0],_=!!O.options&&O.options.fallbackLng,E=O.languages[O.languages.length-1];if($.toLowerCase()==="cimode")return!0;const P=(F,z)=>{const w=O.services.backendConnector.state[`${F}|${z}`];return w===-1||w===2};return!(U.bindI18n&&U.bindI18n.indexOf("languageChanging")>-1&&O.services.backendConnector.backend&&O.isLanguageChangingTo&&!P(O.isLanguageChangingTo,L)||!O.hasResourceBundle($,L)&&O.services.backendConnector.backend&&(!O.options.resources||O.options.partialBundledLanguages)&&(!P($,L)||_&&!P(E,L)))}(y,b,v):(X("i18n.languages were undefined or empty",b.languages),!0)}(m,i,a));function c(){return i.getFixedT(t.lng||null,a.nsMode==="fallback"?g:g[0],o)}const[u,d]=j.useState(c);let p=g.join();t.lng&&(p=`${t.lng}${p}`);const S=((m,y)=>{const b=j.useRef();return j.useEffect(()=>{b.current=m},[m,y]),b.current})(p),k=j.useRef(!0);j.useEffect(()=>{const{bindI18n:m,bindI18nStore:y}=a;function b(){k.current&&d(c)}return k.current=!0,h||l||(t.lng?ft(i,t.lng,g,()=>{k.current&&d(c)}):dt(i,g,()=>{k.current&&d(c)})),h&&S&&S!==p&&k.current&&d(c),m&&i&&i.on(m,b),y&&i&&i.store.on(y,b),()=>{k.current=!1,m&&i&&m.split(" ").forEach(v=>i.off(v,b)),y&&i&&y.split(" ").forEach(v=>i.store.off(v,b))}},[i,p]);const C=j.useRef(!0);j.useEffect(()=>{k.current&&!C.current&&d(c),C.current=!1},[i,o]);const x=[u,i,h];if(x.t=u,x.i18n=i,x.ready=h,h||!h&&!l)return x;throw new Promise(m=>{t.lng?ft(i,t.lng,g,()=>m()):dt(i,g,()=>m())})}export{Mt as a,N as i,Kt as t,zt as u};
